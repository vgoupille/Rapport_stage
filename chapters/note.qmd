# Notes

# comptage des cellules pour taux de collision  









## 03/06/2025


sur mon scratch , j'ai resultats starsoloBC_0077 sans trimming particulier lancer le 27/04/2025

Alignment statistics:
-----------------------
                          Number of input reads |	325495590
                      Average input read length |	241
                   Uniquely mapped reads number |	7011335
                        Uniquely mapped reads % |	2.15%
        Number of reads mapped to multiple loci |	182291253
             % of reads mapped to multiple loci |	56.00%
                Number of reads unmapped: other |	135300421
                     % of reads unmapped: other |	41.57%
                      Mismatch rate per base, % |	0.76%
dim. avril 27 00:25:32 CEST 2025 - Pipeline completed!

j'ai recup tous sur mon ssd , les logs aussi sauf le .bam (fichier d'annotation allignement) issu de starsolo car trop lourd 

-------

sur le project ecogeno , j'ai lancer le trimming car besoin de beaucoup de Go de stockage pour les 6 etapes de trimming qui genere beaucoup de fichier fastq.gz intermediaires, il reste sur cette espace uniquement les fichiers originaux dans raw_data : NTS-412.zip et NTS_412.fastq.gz ainsi que les fichiers decompressé individuels (unzipped) et les fichiers trimmers (29_05_2025). 

-j'ai recuperé les logs des slurms aussi 
- pas recuperer le .bam (fichier d'annotation allignement) issu de starsolo car trop lourd 250go 


-------
sur le projet microsplit j'ai tous mes scripts et logs utiles 
------

sur mon espace personnelle, j'ai tout mes scripts de test microsplit supplementaires, analyses BacSC, analyse seurat, scanpy sur les données de kuchina .... et aussi des test ipynb 








```{mermaid}
%%| fig-cap: "Comprehensive pipeline for microSPLiT single-cell RNA-seq data processing. The workflow encompasses the complete analytical process from raw sequencing data to biological interpretation, including quality control and preprocessing of FASTQ files, alignment and quantification using STARsolo, data structuring with metadata assignment, quality filtering and integration, single-cell and pseudobulk analysis approaches, population characterization through clustering and trajectory inference, and downstream expression analysis including differential expression, co-expression networks, and gene ontology enrichment."
%%| fig-width: 3
%%| fig-height: 2
%%| label: fig-pipeline
%%| cache: false

graph TD
    %% Input files
    subgraph "Input Samples"
        A1[BC_0076 FASTQ<br/>R1 + R2 files]
        A2[BC_0077 FASTQ<br/>R1 + R2 files]
        A3[BC_0078 FASTQ<br/>R1 + R2 files]
        A4[BC_0079 FASTQ<br/>R1 + R2 files]
    end

    %% Preprocessing block
    subgraph "Preprocessing"
        B[Quality Control<br/>FastQC & MultiQC]
        C[Trimming<br/>Cutadapt & Fastp]
        D[Post-trimming QC]
        E[Merge R1 & R2 Files]
        F[2 merged FASTQ<br/>1 R1 + 1 R2]
    end

    %% Alignment block
    subgraph "Alignment & Quantification"
        G[STARsolo<br/>Alignment + Barcode Reading<br/>+ Cell-Gene Matrix]
    end

    %% Object conversion
    subgraph "Data Structuring"
        H[Data Conversion<br/>Seurat / AnnData objects]
        H1[add metadata]
    end

    %% Filtering and integration
    subgraph "Data Curation"
        I[Quality Control & Filtering<br/>Cell & Gene filtering]
        J[Data Integration<br/>Normalization & Batch correction]
    end

    %% Parallel data preparation
    subgraph "Type of analysis"
        L1[Single-cell]
        L2[Pseudobulk]
    end

    %% Clustering section
    subgraph "Single-cell analysis"
        K[Sub/population clustering]
        P[Diffusion Pseudotime<br/>Trajectory inference]
    end

    %% Combined analysis
    subgraph "Expression Analysis"
        M[Differential Expression<br/>Co-expression Analysis<br/>Gene Ontology Analysis]
    end

    %% Flow connections
    A1 --> B
    A2 --> B
    A3 --> B
    A4 --> B
    B --> C --> D --> E --> F --> G --> H --> H1 --> I --> J --> L1
    J --> L2
    L1 --> K
    L1 --> P
    K --> M
    L2 --> M

    %% Color styling
    class A1,A2,A3,A4 input
    class B,C,D,E preprocessing
    class F merged
    class G alignment
    class H,H1 conversion
    class I filtering
    class J integration
    class K clustering
    class L1,L2 preparation
    class M analysis
    class P trajectory

    classDef input fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    classDef preprocessing fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    classDef merged fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    classDef alignment fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    classDef conversion fill:#fce4ec,stroke:#c2185b,stroke-width:2px
    classDef filtering fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    classDef integration fill:#f1f8e9,stroke:#689f38,stroke-width:2px
    classDef clustering fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    classDef preparation fill:#e1f5fe,stroke:#0277bd,stroke-width:2px
    classDef analysis fill:#fff8e1,stroke:#f9a825,stroke-width:2px
    classDef trajectory fill:#fff3e0,stroke:#f57c00,stroke-width:2px
``` 



